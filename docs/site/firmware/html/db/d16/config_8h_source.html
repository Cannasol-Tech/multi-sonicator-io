<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multi-Sonicator IO Firmware: include/config.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Multi-Sonicator IO Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('db/d16/config_8h_source.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">config.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../db/d16/config_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#ifndef CONFIG_H</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#define CONFIG_H</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// See config/hardware-config.yaml — SOLE SOURCE OF TRUTH for hardware pin assignments. This file mirrors the configuration; do not modify mappings here without updating the configuration first.</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">// Backward-compatible aliases for unit tests targeting legacy pin names</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#ifndef PWM_SONICATOR_1_PIN</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a22afe4c404d1a627c825396ad186de8c">   28</a></span><span class="preprocessor">#define PWM_SONICATOR_1_PIN  PWM_AMPLITUDE_CONTROL_PIN</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#ifndef PWM_SONICATOR_2_PIN</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a1c14549aea0c6597755da9d11fd55fec">   31</a></span><span class="preprocessor">#define PWM_SONICATOR_2_PIN  PWM_AMPLITUDE_CONTROL_PIN</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#ifndef PWM_SONICATOR_3_PIN</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ab3fbcd07d57e0fb6ce649d309dce26ba">   34</a></span><span class="preprocessor">#define PWM_SONICATOR_3_PIN  PWM_AMPLITUDE_CONTROL_PIN</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#ifndef PWM_SONICATOR_4_PIN</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2df6b3b28d409adfbace2b9395987f2b">   37</a></span><span class="preprocessor">#define PWM_SONICATOR_4_PIN  PWM_AMPLITUDE_CONTROL_PIN</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">// PROJECT INFORMATION</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ae73053051efbb45c3a39751f5ce9fb36">   43</a></span><span class="preprocessor">#define PROJECT_NAME &quot;Multi Sonicator I/O Controller&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2262256d100ac30c73425265d10c30e5">   44</a></span><span class="preprocessor">#define PROJECT_MODEL &quot;CAN-SON-CTRL-4&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a4a776fa6ea8b7bdf8dfa04ad42b46407">   45</a></span><span class="preprocessor">#define PROJECT_VERSION &quot;1.0.0&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a26af6976dcc8612f42fc20bb88a2e713">   46</a></span><span class="preprocessor">#define PROJECT_BUILD_DATE __DATE__ &quot; &quot; __TIME__</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af742fbcc4371d835e9765ee04a5950fa">   47</a></span><span class="preprocessor">#define MANUFACTURER &quot;Cannasol Technologies&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">// HARDWARE CONFIGURATION</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">// Microcontroller specifications</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a6058531504a8da37ab1cf9fd4464793d">   54</a></span><span class="preprocessor">#define MCU_TYPE &quot;ATmega32A-PU&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aab528fed480df8124410c0fae55ce83e">   55</a></span><span class="preprocessor">#define MCU_FREQUENCY 16000000L</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a52d23a0012e552692191e35222e42ef4">   56</a></span><span class="preprocessor">#define MCU_VOLTAGE 5.0           </span><span class="comment">// 5V power to the ATMEGA32</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">// System limitations</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a39f376f71f4405d96e515fbc21fb5fc5">   59</a></span><span class="preprocessor">#define MAX_SONICATORS 4          </span><span class="comment">// Maximum number of sonicators supported</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a1aef92ccc58f5b6eb11f9a32c8f1e3d6">   60</a></span><span class="preprocessor">#define MODBUS_SLAVE_ID 2          </span><span class="comment">// MODBUS RTU slave address</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a60bd280b8778414fe9cd7546d4a24e1b">   61</a></span><span class="preprocessor">#define MODBUS_BAUD_RATE 115200</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">// Safety timing requirements</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a71b23a7ad1ea1e1adbda7452761f0d66">   64</a></span><span class="preprocessor">#define EMERGENCY_STOP_RESPONSE_US 50</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7806944d3d2580d7208d9f051a19f310">   65</a></span><span class="preprocessor">#define WATCHDOG_TIMEOUT_MS 1000</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aad1816d531d80fd388a888b24cf6ff61">   66</a></span><span class="preprocessor">#define SAFETY_MONITOR_INTERVAL_MS 10</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">// PIN DEFINITIONS - ATmega32A (DIP-40) - Arduino Framework Compatible</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">// UART Communication (MODBUS RTU) - Arduino Serial uses these automatically</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aa37eca6fe61f6938d925975dff27c8fd">   73</a></span><span class="preprocessor">#define UART_RX_PIN 0     </span><span class="comment">// PD0 (Physical pin 14) - DB9-0 Pin 8 (MODBUS RTU RX) - See hardware-config.yaml</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a6c82a6844388a551e8f06d249598989e">   74</a></span><span class="preprocessor">#define UART_TX_PIN 1     </span><span class="comment">// PD1 (Physical pin 15) - DB9-0 Pin 9 (MODBUS RTU TX) - See hardware-config.yaml</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">// I2C Interface (Available for Future Expansion) - Arduino Wire library compatible</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2cade698267beb86ccaa38c14d35ab0f">   77</a></span><span class="preprocessor">#define I2C_SDA_PIN 22    </span><span class="comment">// PC1 (Physical pin 22)</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a0e4e08bab2fb484136d18b067bef372c">   78</a></span><span class="preprocessor">#define I2C_SCL_PIN 21    </span><span class="comment">// PC0 (Physical pin 21)</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">// Crystal Oscillator (16MHz external - handled by Arduino framework)</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#afa2d8905735c5ed93d5ed58d0a6d1ebc">   81</a></span><span class="preprocessor">#define XTAL1_PIN 13      </span><span class="comment">// XTAL1 (Physical pin 13)</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a452546431e285f80a0c8ea0e5d405273">   82</a></span><span class="preprocessor">#define XTAL2_PIN 12      </span><span class="comment">// XTAL2 (Physical pin 12)</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">// Status LED (single LED terminal) - Direct register access</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a089a71f836911c71b3f73fdd3b4b890b">   85</a></span><span class="preprocessor">#define STATUS_LED_PIN 2      </span><span class="comment">// PD2 (Physical pin 16) - LED-TERM (DB9-0 Pin) - See hardware-config.yaml</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">// Serial Communication Configuration</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ad89976cc0b5340110179f6ce40df3028">   88</a></span><span class="preprocessor">#define SERIAL_BAUD_RATE 115200  </span><span class="comment">// Debug serial communication speed</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="../../d8/daa/group___sonicator1.html#ga7f0be9975baddeff02c6056ffe6d636c">  103</a></span><span class="preprocessor">#define SON1_OVERLOAD_PIN     20   </span><span class="comment">//&lt; PD6 (Physical pin 20) - Input via 6N137</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="../../d8/daa/group___sonicator1.html#ga3483eecb5fe0bcadc5368c691ef83672">  104</a></span><span class="preprocessor">#define SON1_FREQ_OUTPUT_PIN  4    </span><span class="comment">//&lt; PB3 (Physical pin 4)  - FREQ ÷10 input</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="../../d8/daa/group___sonicator1.html#gad06198bc2ba85e227f39e226f18920ab">  105</a></span><span class="preprocessor">#define SON1_FREQ_LOCK_PIN    8    </span><span class="comment">//&lt; PB7 (Physical pin 8)  - Input via 6N137</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="../../d8/daa/group___sonicator1.html#gaae4fd2379cc5fbdc73e55d3c3ba60295">  106</a></span><span class="preprocessor">#define SON1_START_PIN        28   </span><span class="comment">//&lt; PC6 (Physical pin 28) - Output via ULN2003A (aligned to pin-matrix)</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="../../d8/daa/group___sonicator1.html#gabc7bc420dadb6a321ca215951cec19ca">  107</a></span><span class="preprocessor">#define SON1_RESET_PIN        29   </span><span class="comment">//&lt; PC7 (Physical pin 29) - Output via ULN2003A (aligned to pin-matrix)</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="../../d2/d37/group___sonicator2.html#gaf3ec0a2a5f64f58fa6203b1724cf6f87">  115</a></span><span class="preprocessor">#define SON2_OVERLOAD_PIN     19   </span><span class="comment">//&lt; PD5 (Physical pin 19) - Input via 6N137</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="../../d2/d37/group___sonicator2.html#ga226d95a3ba3447f88950486816c16063">  116</a></span><span class="preprocessor">#define SON2_FREQ_OUTPUT_PIN  3    </span><span class="comment">//&lt; PB2 (Physical pin 3)  - FREQ ÷10 input</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="../../d2/d37/group___sonicator2.html#ga720ab8aa137d5232b080de2d589beb4a">  117</a></span><span class="preprocessor">#define SON2_FREQ_LOCK_PIN    7    </span><span class="comment">//&lt; PB6 (Physical pin 7)  - Input via 6N137</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="../../d2/d37/group___sonicator2.html#gab33ac39513191b46f1e56efe3b903f90">  118</a></span><span class="preprocessor">#define SON2_START_PIN        26   </span><span class="comment">//&lt; PC4 (Physical pin 26) - Output via ULN2003A (aligned to pin-matrix)</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="../../d2/d37/group___sonicator2.html#ga8cf17babe13b3877fb67d2dadaaa622e">  119</a></span><span class="preprocessor">#define SON2_RESET_PIN        27   </span><span class="comment">//&lt; PC5 (Physical pin 27) - Output via ULN2003A (aligned to pin-matrix)</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="../../d6/dd5/group___sonicator3.html#ga6c7f25996ac91220ca3948c24df60d8e">  127</a></span><span class="preprocessor">#define SON3_OVERLOAD_PIN     18   </span><span class="comment">//&lt; PD4 (Physical pin 18) - Input via 6N137</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="../../d6/dd5/group___sonicator3.html#gaa22ccdea51a4a8e2b4ab4d11b2064ec7">  128</a></span><span class="preprocessor">#define SON3_FREQ_OUTPUT_PIN  2    </span><span class="comment">//&lt; PB1 (Physical pin 2)  - FREQ ÷10 input</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="../../d6/dd5/group___sonicator3.html#ga25c84b644eac031310445f8ceed65ec2">  129</a></span><span class="preprocessor">#define SON3_FREQ_LOCK_PIN    6    </span><span class="comment">//&lt; PB5 (Physical pin 6)  - Input via 6N137</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="../../d6/dd5/group___sonicator3.html#gadf3d1736d4bbe2a9877a400912b3878e">  130</a></span><span class="preprocessor">#define SON3_START_PIN        24   </span><span class="comment">//&lt; PC2 (Physical pin 24) - Output via ULN2003A (aligned to pin-matrix)</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="../../d6/dd5/group___sonicator3.html#gac6cece380c77920cabc81a8c6bbb085c">  131</a></span><span class="preprocessor">#define SON3_RESET_PIN        25   </span><span class="comment">//&lt; PC3 (Physical pin 25) - Output via ULN2003A (aligned to pin-matrix)</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="../../dd/d28/group___sonicator4.html#ga786fd798d58acee8c64231ceee026427">  139</a></span><span class="preprocessor">#define SON4_OVERLOAD_PIN     17   </span><span class="comment">//&lt; PD3 (Physical pin 17) - Input via 6N137 (A2)</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="../../dd/d28/group___sonicator4.html#ga58406eeef975e8051c51b905addff44b">  140</a></span><span class="preprocessor">#define SON4_FREQ_OUTPUT_PIN  1    </span><span class="comment">//&lt; PB0 (Physical pin 1)  - FREQ ÷10 input (D7)</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="../../dd/d28/group___sonicator4.html#gacd39ea816c2641f2f23d9df198bf018d">  141</a></span><span class="preprocessor">#define SON4_FREQ_LOCK_PIN    5    </span><span class="comment">//&lt; PB4 (Physical pin 5)  - Input via 6N137 (D8)</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="../../dd/d28/group___sonicator4.html#ga984840f9d3a5e89fbaedc95dbb27d454">  142</a></span><span class="preprocessor">#define SON4_START_PIN        22   </span><span class="comment">//&lt; PC0 (Physical pin 22) - Output via ULN2003A (A3)</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="../../dd/d28/group___sonicator4.html#gaffd40dfb916a5b6133e06da57654bd0a">  143</a></span><span class="preprocessor">#define SON4_RESET_PIN        23   </span><span class="comment">//&lt; PC1 (Physical pin 23) - Output via ULN2003A (A4)</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="../../da/d6a/group___p_w_m_control.html#ga0aa83389edb245f5b1ae129e07f474f7">  156</a></span><span class="preprocessor">#define PWM_AMPLITUDE_CONTROL_PIN   21   </span><span class="comment">//&lt; PD7 (Physical pin 21) - AMP_C per schematic</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="../../d6/d77/group___a_d_c_power_monitoring.html#ga3c0164f11e49bbc1f308471bc872d919">  175</a></span><span class="preprocessor">#define ADC_SONICATOR_1_PIN   A4   </span><span class="comment">//&lt; PA4 (Physical pin 36) - ADC4</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="../../d6/d77/group___a_d_c_power_monitoring.html#gad0ec60ee4c0ba0fcd61f3ab60c9094ca">  176</a></span><span class="preprocessor">#define ADC_SONICATOR_2_PIN   A5   </span><span class="comment">//&lt; PA5 (Physical pin 35) - ADC5</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="../../d6/d77/group___a_d_c_power_monitoring.html#ga6aa03e96ec1e18fae4a9f215efba52e8">  177</a></span><span class="preprocessor">#define ADC_SONICATOR_3_PIN   A6   </span><span class="comment">//&lt; PA6 (Physical pin 34) - ADC6</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="../../d6/d77/group___a_d_c_power_monitoring.html#gaae18663a7f4d1e42463608fd512db5f4">  178</a></span><span class="preprocessor">#define ADC_SONICATOR_4_PIN   A7   </span><span class="comment">//&lt; PA7 (Physical pin 33) - ADC7</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="../../dc/dce/group___l_m2907_frequency_converter.html#ga47c019a4b87fe13a7f580567c30da3b2">  197</a></span><span class="preprocessor">#define LM2907_FREQ_INPUT_PIN     A0   </span><span class="comment">//&lt; PA0 (Physical pin 40) - ADC0</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="../../dc/dce/group___l_m2907_frequency_converter.html#gad5c14d06916e502df2e02e982799275f">  198</a></span><span class="preprocessor">#define LM2907_FREQ_MIN_VOLTAGE   0.0  </span><span class="comment">//&lt; Minimum voltage (0Hz)</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="../../dc/dce/group___l_m2907_frequency_converter.html#ga8b65dfd8166d7905a3c84f6049cd3cb8">  199</a></span><span class="preprocessor">#define LM2907_FREQ_MAX_VOLTAGE   5.0  </span><span class="comment">//&lt; Maximum voltage (2500Hz)</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="../../dc/dce/group___l_m2907_frequency_converter.html#ga5e48f6282ba8b3017b506dd390d7cb31">  200</a></span><span class="preprocessor">#define LM2907_FREQ_SCALE_FACTOR  500  </span><span class="comment">//&lt; Hz per volt (2500Hz / 5V)</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">// CT2000 SONICATOR SPECIFICATIONS</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">// Operating parameters</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a6986741160d0de7511be7f52521162a5">  216</a></span><span class="preprocessor">#define SONICATOR_FREQ_NOMINAL    20000   </span><span class="comment">// 20 kHz nominal frequency</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7bd6c9e2021eaf75e5d3c7ce764b45b6">  217</a></span><span class="preprocessor">#define SONICATOR_FREQ_TOLERANCE  20      </span><span class="comment">// ±20 Hz tolerance (±0.1%)</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a8cfb6f309dbc7ed2bf9cc0d198a732db">  218</a></span><span class="preprocessor">#define SONICATOR_MAX_POWER       2000    </span><span class="comment">// 2000W maximum power output</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a8d322243967729e9f88bf1731c441f85">  219</a></span><span class="preprocessor">#define SONICATOR_MIN_AMPLITUDE   20      </span><span class="comment">// 20% minimum amplitude</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a0122d2383c5045b00c5c60eb3572286b">  220</a></span><span class="preprocessor">#define SONICATOR_MAX_AMPLITUDE   100     </span><span class="comment">// 100% maximum amplitude</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="comment">// Analog scaling factors</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ab7a7eb8807d3c1ff72a31aad003250e2">  223</a></span><span class="preprocessor">#define POWER_SCALING_MV_PER_WATT 5.44    </span><span class="comment">// 5.44mV per watt (Pin 5)</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a3ac85f60be77afe91d18ba5ec71b05d7">  224</a></span><span class="preprocessor">#define AMPLITUDE_SCALE_V_PER_PCT 0.1     </span><span class="comment">// 0.1V per percent (0-10V for 20-100%)</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#accf5542e9b42962ca8c56811609b56d0">  225</a></span><span class="preprocessor">#define FREQUENCY_DIVIDER         10      </span><span class="comment">// Pin 4 outputs frequency ÷ 10</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">// DB9 Pin Mapping (CT2000 Interface)</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ab31d2a3651a7680b157e854cc5c0f3e5">  228</a></span><span class="preprocessor">#define DB9_OVERLOAD_INDICATION   1       </span><span class="comment">// Pin 1: Overload status (input)</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ae6ba17d7de6f95b5a62671ed848f931a">  229</a></span><span class="preprocessor">#define DB9_OVERLOAD_RESET        2       </span><span class="comment">// Pin 2: Reset overload (output)</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a9c3954509a356b504074712241c3d80c">  230</a></span><span class="preprocessor">#define DB9_FREQUENCY_LOCK        3       </span><span class="comment">// Pin 3: Frequency lock (input)</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ac5a6a01aee8accaf739e4262fe6719d7">  231</a></span><span class="preprocessor">#define DB9_FREQUENCY_OUTPUT      4       </span><span class="comment">// Pin 4: Frequency out ÷10 (input)</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aca93993417075056430abd0489227f9f">  232</a></span><span class="preprocessor">#define DB9_POWER_OUTPUT          5       </span><span class="comment">// Pin 5: Power level (input)</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a747ab812e6efcb05a0a50d963f861f36">  233</a></span><span class="preprocessor">#define DB9_SIGNAL_GROUND         6       </span><span class="comment">// Pin 6: Signal ground</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a9b32ffbc80ef77ba0bfb0f78a6097899">  234</a></span><span class="preprocessor">#define DB9_SONICS_START          7       </span><span class="comment">// Pin 7: Start control (output)</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a597dbb3b1443ed41ea283a5b7838c0a7">  235</a></span><span class="preprocessor">#define DB9_AMPLITUDE_CONTROL     8       </span><span class="comment">// Pin 8: Amplitude 0-10V (output)</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af2e04fd6bfcb716691dcfe550f8ad5ba">  236</a></span><span class="preprocessor">#define DB9_EMITTER_COMMON        9       </span><span class="comment">// Pin 9: Open collector common</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">// MODBUS REGISTER MAPPING</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">// Control Registers (Read/Write)</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ad868403896e27f844c7978863700476c">  243</a></span><span class="preprocessor">#define REG_SONICATOR_1_AMPLITUDE    40001</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a73e8f2f56515b847d5618d6429baf23e">  244</a></span><span class="preprocessor">#define REG_SONICATOR_2_AMPLITUDE    40002  </span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2d60b6e64fc0f15d3d6df147d286f7ed">  245</a></span><span class="preprocessor">#define REG_SONICATOR_3_AMPLITUDE    40003</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af7bba970ff02aa4f6b314a26861ab5b0">  246</a></span><span class="preprocessor">#define REG_SONICATOR_4_AMPLITUDE    40004</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a105f965f177db95cab09c39259313eb5">  247</a></span><span class="preprocessor">#define REG_SONICATOR_1_START_STOP   40005</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af39b13f7fad827067660ade26fc17836">  248</a></span><span class="preprocessor">#define REG_SONICATOR_2_START_STOP   40006</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aca4fb78a9d5fe9a839110db126e98b44">  249</a></span><span class="preprocessor">#define REG_SONICATOR_3_START_STOP   40007</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a25fa141a84ba1aa7cfb13829e8fbc07e">  250</a></span><span class="preprocessor">#define REG_SONICATOR_4_START_STOP   40008</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a42d2893489c79955d88f15cf691b873b">  251</a></span><span class="preprocessor">#define REG_SONICATOR_1_RESET        40009</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a72e84149c231b47b04b84d1ee8f2630d">  252</a></span><span class="preprocessor">#define REG_SONICATOR_2_RESET        40010</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a13e41f0a1968a86a7f27c38d7f3e7be8">  253</a></span><span class="preprocessor">#define REG_SONICATOR_3_RESET        40011</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af373c4785edd54427e68c2a2695f6f13">  254</a></span><span class="preprocessor">#define REG_SONICATOR_4_RESET        40012</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment">// Monitoring Registers (Read Only)</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a959714f7fd4c69ec418194ef6395bf50">  257</a></span><span class="preprocessor">#define REG_SONICATOR_1_POWER        40013</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a4768473ff91bd78910913ba9baf04fbe">  258</a></span><span class="preprocessor">#define REG_SONICATOR_2_POWER        40014</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a20ec1038993f13a47e2a51001b064117">  259</a></span><span class="preprocessor">#define REG_SONICATOR_3_POWER        40015</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a71a6f47079ebb5d8fcb85921c2f4824c">  260</a></span><span class="preprocessor">#define REG_SONICATOR_4_POWER        40016</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a61402e049ab88af1e9f2029f037197cc">  261</a></span><span class="preprocessor">#define REG_SONICATOR_1_FREQUENCY    40017</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aadd077c2171febc866f3f3f9092cb4b7">  262</a></span><span class="preprocessor">#define REG_SONICATOR_2_FREQUENCY    40018</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a44ea7f4bdf57d7dcbbfe845ef12e9f1c">  263</a></span><span class="preprocessor">#define REG_SONICATOR_3_FREQUENCY    40019</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a5f68607c20c72e89bee215da8b1d23be">  264</a></span><span class="preprocessor">#define REG_SONICATOR_4_FREQUENCY    40020</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aef59e582da4a97fa0e65f3d69ec5d1ad">  265</a></span><span class="preprocessor">#define REG_SONICATOR_1_STATUS       40021</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a5a4a7bb13b4f468e86657a56b8a44263">  266</a></span><span class="preprocessor">#define REG_SONICATOR_2_STATUS       40022</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aa028597d05db4f3c7217251a5648946b">  267</a></span><span class="preprocessor">#define REG_SONICATOR_3_STATUS       40023</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a4247b41949648451ace3a6f281f1557b">  268</a></span><span class="preprocessor">#define REG_SONICATOR_4_STATUS       40024</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">// System Registers</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ae36580ffdad83a0e90856c127cc1a825">  271</a></span><span class="preprocessor">#define REG_SYSTEM_STATUS            40025</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a50cb00113c414208697557330319e0db">  272</a></span><span class="preprocessor">#define REG_EMERGENCY_STOP           40026</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a93a656da3dc9f99d8d074684aebcb437">  273</a></span><span class="preprocessor">#define REG_SONICATOR_1_RUNTIME      40027</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ab60e08eb1420580af2e44d29f95a0ca9">  274</a></span><span class="preprocessor">#define REG_SONICATOR_2_RUNTIME      40028</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#abe777abebce840215ad712db447ce7ad">  275</a></span><span class="preprocessor">#define REG_SONICATOR_3_RUNTIME      40029</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a0f831468c6eeefe654898fbd90feb7ed">  276</a></span><span class="preprocessor">#define REG_SONICATOR_4_RUNTIME      40030</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a5ec469472a215485cdc18dbb5b1db816">  277</a></span><span class="preprocessor">#define REG_SONICATOR_1_OVERLOAD_COUNT 40031</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2e68aa736ee9944105460b18499d531c">  278</a></span><span class="preprocessor">#define REG_SONICATOR_2_OVERLOAD_COUNT 40032</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ae202ba5dbb32afeac215b4c3556b25fb">  279</a></span><span class="preprocessor">#define REG_SONICATOR_3_OVERLOAD_COUNT 40033</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a8a15671af4eeaeb8258d32ed08d95d49">  280</a></span><span class="preprocessor">#define REG_SONICATOR_4_OVERLOAD_COUNT 40034</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aa777c43cd2f9be6e7da25ad29bce1488">  291</a></span><span class="preprocessor">#define REG_ACTIVE_SONICATOR_COUNT    40035  </span><span class="comment">//&lt; RO: 0-4 currently running</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a05d63210d9b31a045004cfd3d5aac20d">  292</a></span><span class="preprocessor">#define REG_ACTIVE_SONICATOR_MASK     40036  </span><span class="comment">//&lt; RO: bitmask of running units</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment">// TIMING AND PERFORMANCE CONSTANTS</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a73cf87b724a08c55e4ddb98f9d186b9c">  298</a></span><span class="preprocessor">#define MAIN_LOOP_INTERVAL_MS        10    </span><span class="comment">// 10ms main loop (100 Hz)</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a346d42f6cda5022fb4c334d6d97216d6">  299</a></span><span class="preprocessor">#define MODBUS_TIMEOUT_MS            500   </span><span class="comment">// 500ms MODBUS timeout</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a0c93bbfd49737a08f413579d2ffc291a">  300</a></span><span class="preprocessor">#define STATUS_UPDATE_INTERVAL_MS    100   </span><span class="comment">// Status LED update rate</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a589038d914fec9d1e7a2a00c3fdd423f">  301</a></span><span class="preprocessor">#define POWER_MONITOR_INTERVAL_MS    50    </span><span class="comment">// Power monitoring rate</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ad47d2e62c28790bd6b5608a28ecbf455">  302</a></span><span class="preprocessor">#define FREQUENCY_MEASURE_WINDOW_MS  100   </span><span class="comment">// Frequency measurement window</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span> </div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">// DEBUG AND DEVELOPMENT SETTINGS</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="preprocessor">#ifdef DEBUG_MODE</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="preprocessor">    #define DEBUG_SERIAL_SPEED       115200</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="preprocessor">    #define DEBUG_ENABLE_WATCHDOG    false</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="preprocessor">    #define DEBUG_VERBOSE_MODBUS     true</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="preprocessor">    #define DEBUG_LOG_LEVEL          3     </span><span class="comment">// 0=none, 1=error, 2=warn, 3=info, 4=debug</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a3f4b1cf82f86eb9027e425c1203ad481">  314</a></span><span class="preprocessor">    #define DEBUG_ENABLE_WATCHDOG    true</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ad3eb0d3219ab69726103b67c3d81e2d5">  315</a></span><span class="preprocessor">    #define DEBUG_VERBOSE_MODBUS     false</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a874795f9a502bd10b855fd67a2e34083">  316</a></span><span class="preprocessor">    #define DEBUG_LOG_LEVEL          1</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">// ERROR CODES AND STATUS FLAGS</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">// ============================================================================</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">// System Status Bits (REG_SYSTEM_STATUS)</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a141ed9e2399376c81ddeef7db5e4c318">  324</a></span><span class="preprocessor">#define STATUS_SYSTEM_OK             0x0001</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a5d0fbb1462631dc591c37e80af28cc23">  325</a></span><span class="preprocessor">#define STATUS_EMERGENCY_STOP        0x0002</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aac0952ed02b24713603d44266594bebb">  326</a></span><span class="preprocessor">#define STATUS_COMMUNICATION_ERROR   0x0004</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a2344eac35e8302848f3964a2634b60c4">  327</a></span><span class="preprocessor">#define STATUS_POWER_FAULT           0x0008</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a4e6c491398ea159adabf912d247f63fa">  328</a></span><span class="preprocessor">#define STATUS_OVERLOAD_ACTIVE       0x0010</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#ac297828362973f42883bed2a48732bf9">  329</a></span><span class="preprocessor">#define STATUS_WATCHDOG_RESET        0x0020</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">// Individual Sonicator Status Bits  </span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7e9113487cf448e2ae394a557f520637">  332</a></span><span class="preprocessor">#define STATUS_SONICATOR_RUNNING     0x0001</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#aeffa21d7773b106a8c22a8dbfd2fd339">  333</a></span><span class="preprocessor">#define STATUS_SONICATOR_OVERLOAD    0x0002</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#af36b7d02fa41c36a42710666ef29b64c">  334</a></span><span class="preprocessor">#define STATUS_SONICATOR_FREQ_LOCK   0x0004</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a4d41934636c9de9cd6cd653d7ab03e65">  335</a></span><span class="preprocessor">#define STATUS_SONICATOR_COMM_ERROR  0x0008</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment">// Error Codes</span></div>
<div class="foldopen" id="foldopen00338" data-start="{" data-end="};">
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92">  338</a></span><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4edc8aade11e1de7bbbdc04704baae5f">  339</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4edc8aade11e1de7bbbdc04704baae5f">ERROR_NONE</a> = 0,</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a3fb2c7ed36a1e56392d80bbfb815acba">  340</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a3fb2c7ed36a1e56392d80bbfb815acba">ERROR_MODBUS_TIMEOUT</a> = 1,</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a5f3e3d78cab4cf983464f963dc9957ba">  341</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a5f3e3d78cab4cf983464f963dc9957ba">ERROR_MODBUS_CRC</a> = 2,</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92ab93e7ee2254628713bb387c3cb6346dc">  342</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92ab93e7ee2254628713bb387c3cb6346dc">ERROR_SONICATOR_OVERLOAD</a> = 3,</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a2798e7b43c79c1a5135989223e3be229">  343</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a2798e7b43c79c1a5135989223e3be229">ERROR_FREQUENCY_LOCK_LOST</a> = 4,</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92af8f7858f229659e267d4dd12a4c7697f">  344</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92af8f7858f229659e267d4dd12a4c7697f">ERROR_POWER_OUT_OF_RANGE</a> = 5,</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a124c7e1f536cc667d69471f0989dcff8">  345</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a124c7e1f536cc667d69471f0989dcff8">ERROR_PWM_AMPLITUDE_FAILURE</a> = 6,</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92aeb3d51523d7f54b10fe466f98dc4501a">  346</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92aeb3d51523d7f54b10fe466f98dc4501a">ERROR_ADC_POWER_FAILURE</a> = 7,</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a15cffd517a3340c5048c58f07e7975ee">  347</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a15cffd517a3340c5048c58f07e7975ee">ERROR_WATCHDOG_TIMEOUT</a> = 8,</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a583e790a8b83852d6cf1c5505f682acd">  348</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a583e790a8b83852d6cf1c5505f682acd">ERROR_EMERGENCY_STOP</a> = 9,</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno"><a class="line" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4f4d68e0b143ee73752c8f65f8d0c756">  349</a></span>    <a class="code hl_enumvalue" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4f4d68e0b143ee73752c8f65f8d0c756">ERROR_SYSTEM_FAULT</a> = 10</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>} <a class="code hl_enumeration" href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92">error_code_t</a>;</div>
</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="preprocessor">#endif </span><span class="comment">// CONFIG_H</span></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92">error_code_t</a></div><div class="ttdeci">error_code_t</div><div class="ttdef"><b>Definition</b> config.h:338</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a124c7e1f536cc667d69471f0989dcff8"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a124c7e1f536cc667d69471f0989dcff8">ERROR_PWM_AMPLITUDE_FAILURE</a></div><div class="ttdeci">@ ERROR_PWM_AMPLITUDE_FAILURE</div><div class="ttdef"><b>Definition</b> config.h:345</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a15cffd517a3340c5048c58f07e7975ee"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a15cffd517a3340c5048c58f07e7975ee">ERROR_WATCHDOG_TIMEOUT</a></div><div class="ttdeci">@ ERROR_WATCHDOG_TIMEOUT</div><div class="ttdef"><b>Definition</b> config.h:347</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a2798e7b43c79c1a5135989223e3be229"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a2798e7b43c79c1a5135989223e3be229">ERROR_FREQUENCY_LOCK_LOST</a></div><div class="ttdeci">@ ERROR_FREQUENCY_LOCK_LOST</div><div class="ttdef"><b>Definition</b> config.h:343</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a3fb2c7ed36a1e56392d80bbfb815acba"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a3fb2c7ed36a1e56392d80bbfb815acba">ERROR_MODBUS_TIMEOUT</a></div><div class="ttdeci">@ ERROR_MODBUS_TIMEOUT</div><div class="ttdef"><b>Definition</b> config.h:340</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a4edc8aade11e1de7bbbdc04704baae5f"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4edc8aade11e1de7bbbdc04704baae5f">ERROR_NONE</a></div><div class="ttdeci">@ ERROR_NONE</div><div class="ttdef"><b>Definition</b> config.h:339</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a4f4d68e0b143ee73752c8f65f8d0c756"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a4f4d68e0b143ee73752c8f65f8d0c756">ERROR_SYSTEM_FAULT</a></div><div class="ttdeci">@ ERROR_SYSTEM_FAULT</div><div class="ttdef"><b>Definition</b> config.h:349</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a583e790a8b83852d6cf1c5505f682acd"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a583e790a8b83852d6cf1c5505f682acd">ERROR_EMERGENCY_STOP</a></div><div class="ttdeci">@ ERROR_EMERGENCY_STOP</div><div class="ttdef"><b>Definition</b> config.h:348</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92a5f3e3d78cab4cf983464f963dc9957ba"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92a5f3e3d78cab4cf983464f963dc9957ba">ERROR_MODBUS_CRC</a></div><div class="ttdeci">@ ERROR_MODBUS_CRC</div><div class="ttdef"><b>Definition</b> config.h:341</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92ab93e7ee2254628713bb387c3cb6346dc"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92ab93e7ee2254628713bb387c3cb6346dc">ERROR_SONICATOR_OVERLOAD</a></div><div class="ttdeci">@ ERROR_SONICATOR_OVERLOAD</div><div class="ttdef"><b>Definition</b> config.h:342</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92aeb3d51523d7f54b10fe466f98dc4501a"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92aeb3d51523d7f54b10fe466f98dc4501a">ERROR_ADC_POWER_FAILURE</a></div><div class="ttdeci">@ ERROR_ADC_POWER_FAILURE</div><div class="ttdef"><b>Definition</b> config.h:346</div></div>
<div class="ttc" id="aconfig_8h_html_a7d80c3b410035aed9cd8484552186f92af8f7858f229659e267d4dd12a4c7697f"><div class="ttname"><a href="../../db/d16/config_8h.html#a7d80c3b410035aed9cd8484552186f92af8f7858f229659e267d4dd12a4c7697f">ERROR_POWER_OUT_OF_RANGE</a></div><div class="ttdeci">@ ERROR_POWER_OUT_OF_RANGE</div><div class="ttdef"><b>Definition</b> config.h:344</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="../../db/d16/config_8h.html">config.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
