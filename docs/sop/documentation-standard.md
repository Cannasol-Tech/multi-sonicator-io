---
# <!-- Generated by •∆• ~•Axovia•ƒløw™•~ -->
id: SOP-DOC-001
title: Project Documentation Standard
status: approved-draft
updated_at: 2025-09-15
version: 1.0
provenance:
  banner: "<!-- Generated by •∆• ~•Axovia•ƒløw™•~ -->"
---

# Project Documentation Standard (SOP-DOC-001)

## 1. Purpose
Establish a consistent, automated, and maintainable documentation process for firmware (C/C++) and web UI (TypeScript) components within this repository.

## 2. Scope
- Firmware in `src/` and `include/` (C/C++)
- Web UI in `web-ui/backend/` and `web-ui/frontend/` (TypeScript)
- Output artifacts produced in-repo under `docs/site/`

## 3. Tools of Record
- Firmware: Doxygen
- TypeScript: TypeDoc
- Optional aggregation: MkDocs (future)

## 4. Directory Structure
- Doxygen configuration: `docs/doxygen/Doxyfile`
- Output (firmware): `docs/site/firmware/`
- Output (web backend): `docs/site/web/backend/`
- Output (web frontend): `docs/site/web/frontend/`

## 5. Commenting Conventions

### 5.1 C/C++ (Doxygen)
- Use Javadoc-style blocks `/** ... */`
- Use comprehensive Doxygen tags for complete documentation coverage. All tags should be used where applicable to ensure thorough and searchable documentation. Below is a complete list of available Doxygen tags organized by category:

**File and Group Tags:**
  - `@file` - Document files (required)
  - `@defgroup`, `@ingroup`, `@addtogroup` - Group related items
  - `@dir` - Document directories
  - `@namespace` - Document namespaces

**Documentation Structure Tags:**
  - `@brief` - Short description (required for functions/classes)
  - `@details` - Detailed description
  - `@fn`, `@var`, `@typedef`, `@property` - Document specific elements
  - `@class`, `@struct`, `@union`, `@interface` - Document types

**Function/Method Tags:**
  - `@param` - Document function parameters (required)
  - `@tparam` - Document template parameters
  - `@retval` - Document return values with conditions
  - `@return`/`@returns` - Document return values (required for non-void functions)
  - `@deprecated` - Mark deprecated items
  - `@since` - Indicate version when item was added

**Visibility Tags:**
  - `@public`, `@private`, `@protected` - Document member visibility
  - `@internal` - Mark internal implementation details

**References and Links:**
  - `@ref` - Create references to other documented items
  - `@see`/`@sa` - Add see-also references
  - `@link`, `@endlink` - Create hyperlinks

**Code Examples:**
  - `@code`, `@endcode` - Include code snippets
  - `@verbatim`, `@endverbatim` - Include verbatim text
  - `@example` - Reference example files
  - `@include` - Include external files

**Lists and Formatting:**
  - `@li` - List items
  - `@arg` - Function arguments in parameter descriptions
  - `@attention` - Important notes requiring attention
  - `@note` - General notes
  - `@warning` - Warnings about usage
  - `@bug` - Known bugs
  - `@todo` - TODO items
  - `@test` - Test-related information

**Relationships:**
  - `@extends`, `@implements` - Document inheritance/implementations
  - `@related`, `@relatedalso` - Related items
  - `@relates`, `@relatesalso` - Relate non-members to classes
  - `@memberof` - Specify membership

**Miscellaneous Tags:**
  - `@author` - Document author
  - `@date` - Document creation/modification date
  - `@version` - Document version
  - `@copyright` - Copyright information
  - `@license` - License information
  - `@package`, `@subpackage` - Package organization
  - `@page` - Create documentation pages
  - `@section`, `@subsection`, `@subsubsection` - Create sections
  - `@paragraph` - Create paragraphs
  - `@anchor` - Create anchors for cross-references
  - `@mainpage` - Define main documentation page
  - `@htmlonly`, `@endhtmlonly` - HTML-specific content
  - `@latexonly`, `@endlatexonly` - LaTeX-specific content
  - `@manonly`, `@endmanonly` - Man-page specific content
  - `@rtfonly`, `@endrtfonly` - RTF-specific content
  - `@xmlonly`, `@endxmlonly` - XML-specific content
  - `@cond`, `@endcond` - Conditional documentation
  - `@if`, `@endif`, `@else`, `@elseif` - Conditional compilation in docs
  - `@def` - Define preprocessor macros
  - `@enum` - Document enumerations
  - `@name` - Override displayed name
  - `@overload` - Document overloaded functions

**Usage Notes:**
  - Use Javadoc-style comment blocks: `/** ... */`
  - Required tags marked above must be used where applicable
  - Example implementation available in `src/modules/control/sonicator_modbus_bridge.cpp`

### 5.2 TypeScript (TypeDoc / JSDoc)
- Use `/** ... */` with JSDoc/TypeDoc tags
- Core tags: `@param`, `@returns`, `@throws`, `@template`, `@deprecated`, `@example`, `@remarks`, `@see`, `@public/@private/@internal`, `@packageDocumentation`
- Avoid Doxygen-only directives in TS

## 6. Build Configuration

### 6.1 Doxygen (C/C++)
- Config: `docs/doxygen/Doxyfile`
- Key settings:
  - `INPUT = src include`
  - `RECURSIVE = YES`
  - `FILE_PATTERNS = *.c *.cpp *.h *.hpp`
  - `EXTRACT_ALL = YES`
  - `GENERATE_HTML = YES`
  - `OUTPUT_DIRECTORY = docs/site/firmware`

### 6.2 TypeDoc (TS)
- Backend: `web-ui/backend/typedoc.json`
- Frontend: `web-ui/frontend/typedoc.json`
- Key settings:
  - `entryPoints = ["src"]`
  - `entryPointStrategy = "expand"`
  - `out = ../../docs/site/web/<package>`
  - Frontend excludes tests and uses `skipErrorChecking` to avoid test-only TS type errors in docs

## 7. Local Build Commands
- Firmware: `make docs-firmware` (requires `doxygen` installed)
- Web Backend: `make docs-web-backend`
- Web Frontend: `make docs-web-frontend`
- All: `make docs-all`

Node installs (first run only):
- `cd web-ui/backend && npm install --legacy-peer-deps`
- `cd web-ui/frontend && npm install --legacy-peer-deps`

## 8. CI Process (in-repo artifacts)
- Workflow: `.github/workflows/docs.yml`
- Steps:
  1. Install Doxygen (CI environment)
  2. Build firmware docs with Doxygen
  3. Build TypeDoc docs for backend and frontend
  4. Upload `docs/site/` as CI artifact
- Hosting policy: Documentation remains in this repository (no external hosting). GitHub Pages is disabled by default.

## 9. Definition of Done (DoD) Requirements
- New or modified modules must include doc comments that meet this SOP
- `docs/site/` builds without errors (warnings permitted, zero errors)
- For C/C++: public APIs documented with `@brief`, `@param`, `@return`
- For TS: exported APIs documented with `@param`, `@returns`, and examples where helpful

## 10. Review and Quality Gates
- PR Checklist must include: "Docs updated and built locally (or via CI)"
- Reviewers verify:
  - Adequate doc coverage for new/changed code paths
  - Docs build step passes in CI (artifact present)

## 11. Versioning & Change Management
- Bump minor version in this SOP when changing standards or locations
- Note changes in `CHANGELOG.md` under "Documentation"

## 12. Accessibility & Navigation
- Ensure Type names, module/grouping names, and titles are human-friendly
- Prefer `@remarks` for deeper guidance; add `@example` where appropriate

## 13. Exceptions
- Temporary exceptions must be justified in PR description and include a follow-up task to remediate

## 14. References
- `DOCUMENT_GENERATION_TODO.md` (implementation checklist)
- `.github/workflows/docs.yml` (CI pipeline)
- `Makefile` docs targets
